#include<stdio.h>
#include<stdlib.h>

typedef struct node{
    int val;
    struct node* next;
} node;

typedef struct {
    int vertex;
    node** arr;
} graph;

graph* create(int v){
    graph* g=(graph*)malloc(sizeof(graph));
    if(!g){
        printf("no place allocated");
        exit(EXIT_FAILURE);
    }
    g->vertex=v;
    g->arr=(node**)malloc(v*sizeof(node*));
    for(int i=0;i<v;i++){
        g->arr[i]=NULL;
    }
    return g;
}

void add_edge(graph* g, int src, int dest){
    node* n1=(node*)malloc(sizeof(node));
    n1->val=dest;
    n1->next=g->arr[src];
    g->arr[src]=n1;

    node* n2=(node*)malloc(sizeof(node));
    n2->val=src;
    n2->next=g->arr[dest];
    g->arr[dest]=n2;
}

void Dfs(graph* g, int s, int visited[]){
    visited[s]=1;
    printf("%d",s);

    node* temp=g->arr[s];
    while(temp){
        if(!visited[temp->val]){
            Dfs(g,temp->val,visited);
        }
        temp=temp->next;
    }
}

void DFS(graph* g, int start){
    int visited[g->vertex];
    for(int i=0;i<g->vertex;i++){
        visited[i]=0;
    }
    Dfs(g, start, visited);

}

void BFS(graph* g, int st){
    int visited[g->vertex];
    for(int i=0;i<g->vertex;i++){
        visited[i]=0;
    }
    int q[g->vertex];
    int rare=0;
    int front=0;

    visited[st]=1;
    q[rare++]=st;

    while(front<rare){
        int curr=q[front++];
        printf("%d",curr);

        node* temp=g->arr[curr];
        while(temp){
            if(!visited[temp->val]){
                visited[temp->val]=1;
                q[rear++]=temp->val;
            }
            temp=temp->next
        }

    }
}

int main(){
    graph*g =create(5);

    add_edge(g, 0, 1);
    add_edge(g, 0, 4);
    add_edge(g, 1, 2);
    add_edge(g, 1, 3);
    add_edge(g, 3, 4);

    DFS(g,0);

    return 0;
}
