#include<stdio.h>
#include<stdlib.h>

typedef struct node{
    int numb;
    struct node* next;
} node;

typedef struct graph{
    int vertex;
    node** arr;
} graph;

graph* create(int v){
    graph* g=(graph*)malloc(sizeof(graph));
    if(!g){
        printf("tbsm");
        exit(EXIT_FAILURE);
    }
    g->vertex=v;
    g->arr=(node**)malloc(v * sizeof(node*));
    for(int i=0;i<v;i++){
        g->arr[i]=NULL;
    }
    return g;
}

void add_edge(graph *g,int src, int des){
    node* n1=(node*)malloc(sizeof(node*));
    n1->numb=des;
    n1->next=g->arr[src];
    g->arr[src]=n1;

    node* n2=(node*)malloc(sizeof(node*));
    n2->numb=src;
    n2->next=g->arr[des];
    g->arr[des]=n2;
}

void print(graph* g){
    for(int i=0;i<g->vertex;i++){
        printf("%d",i);
        node* t=g->arr[i];
        while(t){
            printf("->%d",t->numb);
            t=t->next;
        }
        printf("\n");
    }
}

int main(){
    graph* g=create(5);
    add_edge(g, 0, 1);
    add_edge(g, 0, 4);
    add_edge(g, 1, 2);
    add_edge(g, 1, 3);

    print(g);

}
