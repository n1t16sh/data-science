#include<stdio.h>
#include<stdlib.h>

typedef struct node{
    int dest;
    struct node *next;
} node;

typedef struct{
    int ver;
    struct node **arr;
} graph;

graph* create(int v){
    graph* g =(graph*)malloc(sizeof(graph));
    g->ver=v;
    g->arr=(node**)malloc(v*sizeof(node*));
    for(int i=0;i<v;i++){
        g->arr[i]=NULL;
    }
    return g;
}

void add_edge(graph* g, int sor, int des){
    node* n1=(node*)malloc(sizeof(node));
    n1->dest=des;
    n1->next=g->arr[sor];
    g->arr[sor]=n1;

    node* n2=(node*)malloc(sizeof(node));
    n2->dest=sor;
    n2->next=g->arr[des];
    g->arr[des]=n2;
}

void printgraph(graph* g){
    for(int v=0;v<g->ver;v++){
        printf("%d",v);
        node* t=g->arr[v];
        while(t){
            printf("->%d",t->dest);
            t=t->next;
        }
        printf("\n");
    }
}

int main() {
    graph* g = create(5);

    add_edge(g, 0, 1);
    add_edge(g, 0, 4);
    add_edge(g, 1, 2);
    add_edge(g, 1, 3);

    printgraph(g);
}
