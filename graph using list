#include<stdio.h>
#include<stdlib.h>

typedef struct node{
    int data;
    struct node* next;

}node;

typedef struct graph{
    int vertex;
    node** arr;
}graph;

node* make_node(int n){
    node* new=(node*)malloc(sizeof(node));
    new->data=n;
    new->next=NULL;
    return new;
}

graph* create(int v){
    graph* g=(graph*)malloc(sizeof(graph));
    if(!g){
        printf("no space was provided");
        exit(EXIT_FAILURE);
    }
    g->vertex=v;
    g->arr=(node**)malloc(v*sizeof(node*));
    for(int i=0;i<v;i++){
        g->arr[i]=NULL;
    }
    return g;
}

void add_edge(graph* g, int src, int dest){
    node* n1=make_node(dest);
    n1->next=g->arr[src];
    g->arr[src]=n1;

    node* n2=make_node(src);
    n2->next=g->arr[dest];
    g->arr[dest]=n2;
}

int visited[100];
void dfs(graph* g,int start){
    printf("%d",start);
    visited[start]=1;

    node* temp=g->arr[start];
    while(temp!=NULL){
        if(!visited[temp->data]){
            dfs(g,temp->data);
        }
        temp=temp->next;
    }
}


void bfs(graph* g, int start){
    int* visited=(int*)calloc(g->vertex,sizeof(int));
    int* q=(int*)malloc(g->vertex*sizeof(int));
    int front=0;
    int rear=0;

    visited[start]=1;
    q[rear++]=start;
    while(front<rear){
        int v=q[front++];
        printf("%d ",v);

        node* temp=g->arr[v];
        while(temp!=NULL){
            int val=temp->data;
            if(!visited[val]){
                visited[val]=1;
                q[rear++]=val;
            }
            temp=temp->next;
        }
    }
    free(visited);
    free(q);
}
